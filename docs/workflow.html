<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 An R workflow | Intro R Workshop: Data Manipulation, Analysis, and Visualisation</title>
  <meta name="description" content="The basics for a safe voyage through the tidyverse." />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 An R workflow | Intro R Workshop: Data Manipulation, Analysis, and Visualisation" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="figures/769_life_finds_a_way.png" />
  <meta property="og:description" content="The basics for a safe voyage through the tidyverse." />
  <meta name="github-repo" content="ajsmit/Intro_R_Workshop" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 An R workflow | Intro R Workshop: Data Manipulation, Analysis, and Visualisation" />
  
  <meta name="twitter:description" content="The basics for a safe voyage through the tidyverse." />
  <meta name="twitter:image" content="figures/769_life_finds_a_way.png" />

<meta name="author" content="AJ Smit, Amieroh Abrahams &amp; Robert W Schlegel" />


<meta name="date" content="2020-01-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="github.html"/>
<link rel="next" href="exercise-1.html"/>
<script src="docs/header-attrs-2.1/header-attrs.js"></script>
<script src="docs/jquery-2.2.3/jquery.min.js"></script>
<link href="docs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="docs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="docs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="docs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="docs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="docs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="docs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intro R Workshop</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="prelim.html"><a href="prelim.html"><i class="fa fa-check"></i><b>1</b> Preliminaries</a>
<ul>
<li class="chapter" data-level="1.1" data-path="prelim.html"><a href="prelim.html#venue-date-and-time"><i class="fa fa-check"></i><b>1.1</b> Venue, date and time</a></li>
<li class="chapter" data-level="1.2" data-path="prelim.html"><a href="prelim.html#course-outline"><i class="fa fa-check"></i><b>1.2</b> Course outline</a>
<ul>
<li class="chapter" data-level="" data-path="prelim.html"><a href="prelim.html#day-1-in-the-beginning"><i class="fa fa-check"></i>Day 1 – In the Beginning</a></li>
<li class="chapter" data-level="" data-path="prelim.html"><a href="prelim.html#day-2-show-and-tell"><i class="fa fa-check"></i>Day 2 – Show and tell</a></li>
<li class="chapter" data-level="" data-path="prelim.html"><a href="prelim.html#day-3-going-deeper"><i class="fa fa-check"></i>Day 3 – Going deeper</a></li>
<li class="chapter" data-level="" data-path="prelim.html"><a href="prelim.html#day-4-the-enlightened-researcher"><i class="fa fa-check"></i>Day 4 – The Enlightened Researcher</a></li>
<li class="chapter" data-level="" data-path="prelim.html"><a href="prelim.html#day-5-the-world-is-yours"><i class="fa fa-check"></i>Day 5 – The world is yours</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="prelim.html"><a href="prelim.html#about-this-workshop"><i class="fa fa-check"></i><b>1.3</b> About this Workshop</a></li>
<li class="chapter" data-level="1.4" data-path="prelim.html"><a href="prelim.html#why-use-r"><i class="fa fa-check"></i><b>1.4</b> Why use R?</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="prelim.html"><a href="prelim.html#some-negatives-of-using-r"><i class="fa fa-check"></i><b>1.4.1</b> Some negatives of using R</a></li>
<li class="chapter" data-level="1.4.2" data-path="prelim.html"><a href="prelim.html#the-challenge-learning-to-program-in-r"><i class="fa fa-check"></i><b>1.4.2</b> The challenge: learning to program in R</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="prelim.html"><a href="prelim.html#using-your-own-computer"><i class="fa fa-check"></i><b>1.5</b> Using your own computer?</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="prelim.html"><a href="prelim.html#installing-r"><i class="fa fa-check"></i><b>1.5.1</b> Installing R</a></li>
<li class="chapter" data-level="1.5.2" data-path="prelim.html"><a href="prelim.html#installing-rstudio"><i class="fa fa-check"></i><b>1.5.2</b> Installing RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="prelim.html"><a href="prelim.html#resources"><i class="fa fa-check"></i><b>1.6</b> Resources</a></li>
<li class="chapter" data-level="1.7" data-path="prelim.html"><a href="prelim.html#style-and-code-conventions"><i class="fa fa-check"></i><b>1.7</b> Style and code conventions</a></li>
<li class="chapter" data-level="1.8" data-path="prelim.html"><a href="prelim.html#about-this-document"><i class="fa fa-check"></i><b>1.8</b> About this document</a></li>
<li class="chapter" data-level="1.9" data-path="prelim.html"><a href="prelim.html#exercise-it-which-shall-not-be-named"><i class="fa fa-check"></i><b>1.9</b> Exercise: It which shall not be named</a></li>
<li class="chapter" data-level="1.10" data-path="prelim.html"><a href="prelim.html#session-info"><i class="fa fa-check"></i><b>1.10</b> Session info</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rstudio.html"><a href="rstudio.html"><i class="fa fa-check"></i><b>2</b> RStudio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="rstudio.html"><a href="rstudio.html#setting-up-the-workspace"><i class="fa fa-check"></i><b>2.1</b> Setting up the workspace</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="rstudio.html"><a href="rstudio.html#general-settings"><i class="fa fa-check"></i><b>2.1.1</b> General settings</a></li>
<li class="chapter" data-level="2.1.2" data-path="rstudio.html"><a href="rstudio.html#customising-appearance"><i class="fa fa-check"></i><b>2.1.2</b> Customising appearance</a></li>
<li class="chapter" data-level="2.1.3" data-path="rstudio.html"><a href="rstudio.html#configuring-panes"><i class="fa fa-check"></i><b>2.1.3</b> Configuring panes</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="rstudio.html"><a href="rstudio.html#the-rproject"><i class="fa fa-check"></i><b>2.2</b> The Rproject</a></li>
<li class="chapter" data-level="2.3" data-path="rstudio.html"><a href="rstudio.html#installing-packages"><i class="fa fa-check"></i><b>2.3</b> Installing packages</a></li>
<li class="chapter" data-level="2.4" data-path="rstudio.html"><a href="rstudio.html#the-panes-of-rstudio"><i class="fa fa-check"></i><b>2.4</b> The panes of RStudio</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="rstudio.html"><a href="rstudio.html#source-editor"><i class="fa fa-check"></i><b>2.4.1</b> Source Editor</a></li>
<li class="chapter" data-level="2.4.2" data-path="rstudio.html"><a href="rstudio.html#console"><i class="fa fa-check"></i><b>2.4.2</b> Console</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="rstudio.html"><a href="rstudio.html#exercise"><i class="fa fa-check"></i><b>2.5</b> Exercise:</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="rstudio.html"><a href="rstudio.html#environment-and-history-panes"><i class="fa fa-check"></i><b>2.5.1</b> Environment and History panes</a></li>
<li class="chapter" data-level="2.5.2" data-path="rstudio.html"><a href="rstudio.html#files-plots-packages-help-and-viewer-panes"><i class="fa fa-check"></i><b>2.5.2</b> Files, Plots, Packages, Help, and Viewer panes</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="rstudio.html"><a href="rstudio.html#session-info-1"><i class="fa fa-check"></i><b>2.6</b> Session info</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="github.html"><a href="github.html"><i class="fa fa-check"></i><b>3</b> GitHub</a>
<ul>
<li class="chapter" data-level="3.1" data-path="github.html"><a href="github.html#what-is-github"><i class="fa fa-check"></i><b>3.1</b> What is GitHub?</a></li>
<li class="chapter" data-level="3.2" data-path="github.html"><a href="github.html#installing-github-on-windows"><i class="fa fa-check"></i><b>3.2</b> Installing GitHub on Windows</a></li>
<li class="chapter" data-level="3.3" data-path="github.html"><a href="github.html#create-and-account-and-a-repository"><i class="fa fa-check"></i><b>3.3</b> Create and account and a Repository</a></li>
<li class="chapter" data-level="3.4" data-path="github.html"><a href="github.html#git-configuring-activation-and-connecting-to-a-remote-repository"><i class="fa fa-check"></i><b>3.4</b> Git configuring (activation) and connecting to a remote repository</a></li>
<li class="chapter" data-level="3.5" data-path="github.html"><a href="github.html#clone-the-new-github-repository-to-your-computer-via-rstudio."><i class="fa fa-check"></i><b>3.5</b> Clone the new GitHub repository to your computer via RStudio.</a></li>
<li class="chapter" data-level="3.6" data-path="github.html"><a href="github.html#commits"><i class="fa fa-check"></i><b>3.6</b> Commits</a></li>
<li class="chapter" data-level="3.7" data-path="github.html"><a href="github.html#open-a-pull-request"><i class="fa fa-check"></i><b>3.7</b> Open a Pull Request</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>4</b> An R workflow</a>
<ul>
<li class="chapter" data-level="4.1" data-path="workflow.html"><a href="workflow.html#r-scripts"><i class="fa fa-check"></i><b>4.1</b> R Scripts</a></li>
<li class="chapter" data-level="4.2" data-path="workflow.html"><a href="workflow.html#reading-data-into-r"><i class="fa fa-check"></i><b>4.2</b> Reading data into R</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="workflow.html"><a href="workflow.html#preparing-data-for-r"><i class="fa fa-check"></i><b>4.2.1</b> Preparing data for R</a></li>
<li class="chapter" data-level="4.2.2" data-path="workflow.html"><a href="workflow.html#converting-data"><i class="fa fa-check"></i><b>4.2.2</b> Converting data</a></li>
<li class="chapter" data-level="4.2.3" data-path="workflow.html"><a href="workflow.html#importing-data"><i class="fa fa-check"></i><b>4.2.3</b> Importing data</a></li>
<li class="chapter" data-level="4.2.4" data-path="workflow.html"><a href="workflow.html#loading-a-file"><i class="fa fa-check"></i><b>4.2.4</b> Loading a file</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="workflow.html"><a href="workflow.html#working-with-data"><i class="fa fa-check"></i><b>4.3</b> Working with data</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="workflow.html"><a href="workflow.html#examine-your-data"><i class="fa fa-check"></i><b>4.3.1</b> Examine your data</a></li>
<li class="chapter" data-level="4.3.2" data-path="workflow.html"><a href="workflow.html#tidyverse-sneak-peek"><i class="fa fa-check"></i><b>4.3.2</b> Tidyverse sneak peek</a></li>
<li class="chapter" data-level="4.3.3" data-path="workflow.html"><a href="workflow.html#subsetting"><i class="fa fa-check"></i><b>4.3.3</b> Subsetting</a></li>
<li class="chapter" data-level="4.3.4" data-path="workflow.html"><a href="workflow.html#basic-stats"><i class="fa fa-check"></i><b>4.3.4</b> Basic stats</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="exercise-1.html"><a href="exercise-1.html"><i class="fa fa-check"></i><b>5</b> Exercise:</a>
<ul>
<li class="chapter" data-level="5.0.1" data-path="exercise-1.html"><a href="exercise-1.html#summary-of-all-variables-in-a-dataframe"><i class="fa fa-check"></i><b>5.0.1</b> Summary of all variables in a dataframe</a></li>
<li class="chapter" data-level="5.0.2" data-path="exercise-1.html"><a href="exercise-1.html#summary-statistics-by-variable"><i class="fa fa-check"></i><b>5.0.2</b> Summary statistics by variable</a></li>
<li class="chapter" data-level="5.0.3" data-path="exercise-1.html"><a href="exercise-1.html#more-complex-calculations"><i class="fa fa-check"></i><b>5.0.3</b> More complex calculations</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="exercise-2.html"><a href="exercise-2.html"><i class="fa fa-check"></i><b>6</b> Exercise:</a>
<ul>
<li class="chapter" data-level="6.1" data-path="exercise-2.html"><a href="exercise-2.html#saving-data"><i class="fa fa-check"></i><b>6.1</b> Saving data</a></li>
<li class="chapter" data-level="6.2" data-path="exercise-2.html"><a href="exercise-2.html#visualisations"><i class="fa fa-check"></i><b>6.2</b> Visualisations</a></li>
<li class="chapter" data-level="6.3" data-path="exercise-2.html"><a href="exercise-2.html#clearing-the-memory"><i class="fa fa-check"></i><b>6.3</b> Clearing the memory</a></li>
<li class="chapter" data-level="6.4" data-path="exercise-2.html"><a href="exercise-2.html#working-directories"><i class="fa fa-check"></i><b>6.4</b> Working directories</a></li>
<li class="chapter" data-level="6.5" data-path="exercise-2.html"><a href="exercise-2.html#help"><i class="fa fa-check"></i><b>6.5</b> Help</a></li>
<li class="chapter" data-level="6.6" data-path="exercise-2.html"><a href="exercise-2.html#session-info-2"><i class="fa fa-check"></i><b>6.6</b> Session info</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="graphics.html"><a href="graphics.html"><i class="fa fa-check"></i><b>7</b> Graphics with <strong><code>ggplot2</code></strong></a>
<ul>
<li class="chapter" data-level="7.1" data-path="graphics.html"><a href="graphics.html#example-figures"><i class="fa fa-check"></i><b>7.1</b> Example figures</a></li>
<li class="chapter" data-level="7.2" data-path="graphics.html"><a href="graphics.html#basics-of-ggplot2"><i class="fa fa-check"></i><b>7.2</b> Basics of <strong><code>ggplot2</code></strong></a></li>
<li class="chapter" data-level="7.3" data-path="graphics.html"><a href="graphics.html#to-aes-or-not-to-aes-that-is-the-question"><i class="fa fa-check"></i><b>7.3</b> To <code>aes()</code> or not to <code>aes()</code>, that is the question</a></li>
<li class="chapter" data-level="7.4" data-path="graphics.html"><a href="graphics.html#changing-labels"><i class="fa fa-check"></i><b>7.4</b> Changing labels</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="exercise-3.html"><a href="exercise-3.html"><i class="fa fa-check"></i><b>8</b> Exercise:</a>
<ul>
<li class="chapter" data-level="8.1" data-path="exercise-3.html"><a href="exercise-3.html#session-info-3"><i class="fa fa-check"></i><b>8.1</b> Session info</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="faceting.html"><a href="faceting.html"><i class="fa fa-check"></i><b>9</b> Faceting Figures</a>
<ul>
<li class="chapter" data-level="9.1" data-path="faceting.html"><a href="faceting.html#faceting-one-figure"><i class="fa fa-check"></i><b>9.1</b> Faceting one figure</a></li>
<li class="chapter" data-level="9.2" data-path="faceting.html"><a href="faceting.html#new-figure-types"><i class="fa fa-check"></i><b>9.2</b> New figure types</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="faceting.html"><a href="faceting.html#line-graph"><i class="fa fa-check"></i><b>9.2.1</b> Line graph</a></li>
<li class="chapter" data-level="9.2.2" data-path="faceting.html"><a href="faceting.html#linear-model"><i class="fa fa-check"></i><b>9.2.2</b> Linear model</a></li>
<li class="chapter" data-level="9.2.3" data-path="faceting.html"><a href="faceting.html#histogram"><i class="fa fa-check"></i><b>9.2.3</b> Histogram</a></li>
<li class="chapter" data-level="9.2.4" data-path="faceting.html"><a href="faceting.html#boxplot"><i class="fa fa-check"></i><b>9.2.4</b> Boxplot</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="faceting.html"><a href="faceting.html#gridding-figures"><i class="fa fa-check"></i><b>9.3</b> Gridding figures</a></li>
<li class="chapter" data-level="9.4" data-path="faceting.html"><a href="faceting.html#session-info-4"><i class="fa fa-check"></i><b>9.4</b> Session info</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="brewing.html"><a href="brewing.html"><i class="fa fa-check"></i><b>10</b> Brewing colours in <strong><code>ggplot2</code></strong></a>
<ul>
<li class="chapter" data-level="10.1" data-path="brewing.html"><a href="brewing.html#r-data"><i class="fa fa-check"></i><b>10.1</b> R Data</a></li>
<li class="chapter" data-level="10.2" data-path="brewing.html"><a href="brewing.html#rcolorbrewer"><i class="fa fa-check"></i><b>10.2</b> <strong><code>RColorBrewer</code></strong></a></li>
<li class="chapter" data-level="10.3" data-path="brewing.html"><a href="brewing.html#make-your-own-palettes"><i class="fa fa-check"></i><b>10.3</b> Make your own palettes</a></li>
<li class="chapter" data-level="10.4" data-path="brewing.html"><a href="brewing.html#use-your-own-palettes"><i class="fa fa-check"></i><b>10.4</b> Use your own palettes</a></li>
<li class="chapter" data-level="10.5" data-path="brewing.html"><a href="brewing.html#diy-figures"><i class="fa fa-check"></i><b>10.5</b> DIY figures</a></li>
<li class="chapter" data-level="10.6" data-path="brewing.html"><a href="brewing.html#session-info-5"><i class="fa fa-check"></i><b>10.6</b> Session info</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="mapping.html"><a href="mapping.html"><i class="fa fa-check"></i><b>11</b> Mapping with <strong><code>ggplot2</code></strong></a>
<ul>
<li class="chapter" data-level="11.1" data-path="mapping.html"><a href="mapping.html#a-new-concept"><i class="fa fa-check"></i><b>11.1</b> A new concept?</a></li>
<li class="chapter" data-level="11.2" data-path="mapping.html"><a href="mapping.html#land-mask"><i class="fa fa-check"></i><b>11.2</b> Land mask</a></li>
<li class="chapter" data-level="11.3" data-path="mapping.html"><a href="mapping.html#borders"><i class="fa fa-check"></i><b>11.3</b> Borders</a></li>
<li class="chapter" data-level="11.4" data-path="mapping.html"><a href="mapping.html#force-lonlat-extent"><i class="fa fa-check"></i><b>11.4</b> Force lon/lat extent</a></li>
<li class="chapter" data-level="11.5" data-path="mapping.html"><a href="mapping.html#ocean-temperature"><i class="fa fa-check"></i><b>11.5</b> Ocean temperature</a></li>
<li class="chapter" data-level="11.6" data-path="mapping.html"><a href="mapping.html#final-touches"><i class="fa fa-check"></i><b>11.6</b> Final touches</a></li>
<li class="chapter" data-level="11.7" data-path="mapping.html"><a href="mapping.html#session-info-6"><i class="fa fa-check"></i><b>11.7</b> Session info</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="mapping-style.html"><a href="mapping-style.html"><i class="fa fa-check"></i><b>12</b> Mapping with style</a>
<ul>
<li class="chapter" data-level="12.1" data-path="mapping-style.html"><a href="mapping-style.html#default-maps"><i class="fa fa-check"></i><b>12.1</b> Default maps</a></li>
<li class="chapter" data-level="12.2" data-path="mapping-style.html"><a href="mapping-style.html#specific-labels"><i class="fa fa-check"></i><b>12.2</b> Specific labels</a></li>
<li class="chapter" data-level="12.3" data-path="mapping-style.html"><a href="mapping-style.html#scale-bars"><i class="fa fa-check"></i><b>12.3</b> Scale bars</a></li>
<li class="chapter" data-level="12.4" data-path="mapping-style.html"><a href="mapping-style.html#insetting"><i class="fa fa-check"></i><b>12.4</b> Insetting</a></li>
<li class="chapter" data-level="12.5" data-path="mapping-style.html"><a href="mapping-style.html#rounding-it-out"><i class="fa fa-check"></i><b>12.5</b> Rounding it out</a></li>
<li class="chapter" data-level="12.6" data-path="mapping-style.html"><a href="mapping-style.html#session-info-7"><i class="fa fa-check"></i><b>12.6</b> Session info</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="mapping-google.html"><a href="mapping-google.html"><i class="fa fa-check"></i><b>13</b> Mapping with Google</a>
<ul>
<li class="chapter" data-level="13.1" data-path="mapping-google.html"><a href="mapping-google.html#ggmap"><i class="fa fa-check"></i><b>13.1</b> <strong><code>ggmap</code></strong></a></li>
<li class="chapter" data-level="13.2" data-path="mapping-google.html"><a href="mapping-google.html#mapping-cape-point"><i class="fa fa-check"></i><b>13.2</b> Mapping Cape Point</a></li>
<li class="chapter" data-level="13.3" data-path="mapping-google.html"><a href="mapping-google.html#site-labels"><i class="fa fa-check"></i><b>13.3</b> Site labels</a></li>
<li class="chapter" data-level="13.4" data-path="mapping-google.html"><a href="mapping-google.html#diy-maps"><i class="fa fa-check"></i><b>13.4</b> DIY maps</a></li>
<li class="chapter" data-level="13.5" data-path="mapping-google.html"><a href="mapping-google.html#session-info-8"><i class="fa fa-check"></i><b>13.5</b> Session info</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="tidy.html"><a href="tidy.html"><i class="fa fa-check"></i><b>14</b> Tidy data</a>
<ul>
<li class="chapter" data-level="14.1" data-path="tidy.html"><a href="tidy.html#gathering-and-spreading"><i class="fa fa-check"></i><b>14.1</b> Gathering and spreading</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="tidy.html"><a href="tidy.html#gathering"><i class="fa fa-check"></i><b>14.1.1</b> Gathering</a></li>
<li class="chapter" data-level="14.1.2" data-path="tidy.html"><a href="tidy.html#spreading"><i class="fa fa-check"></i><b>14.1.2</b> Spreading</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="tidy.html"><a href="tidy.html#separating-and-uniting"><i class="fa fa-check"></i><b>14.2</b> Separating and uniting</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="tidy.html"><a href="tidy.html#separate"><i class="fa fa-check"></i><b>14.2.1</b> Separate</a></li>
<li class="chapter" data-level="14.2.2" data-path="tidy.html"><a href="tidy.html#unite"><i class="fa fa-check"></i><b>14.2.2</b> Unite</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="tidy.html"><a href="tidy.html#joining"><i class="fa fa-check"></i><b>14.3</b> Joining</a></li>
<li class="chapter" data-level="14.4" data-path="tidy.html"><a href="tidy.html#but-why-though"><i class="fa fa-check"></i><b>14.4</b> But why though?</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="exercise-4.html"><a href="exercise-4.html"><i class="fa fa-check"></i><b>15</b> Exercise</a>
<ul>
<li class="chapter" data-level="15.1" data-path="exercise-4.html"><a href="exercise-4.html#session-info-9"><i class="fa fa-check"></i><b>15.1</b> Session info</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="tidier.html"><a href="tidier.html"><i class="fa fa-check"></i><b>16</b> Tidier data</a>
<ul>
<li class="chapter" data-level="16.1" data-path="tidier.html"><a href="tidier.html#comparison-operators"><i class="fa fa-check"></i><b>16.1</b> Comparison operators</a></li>
<li class="chapter" data-level="16.2" data-path="tidier.html"><a href="tidier.html#logical-operators"><i class="fa fa-check"></i><b>16.2</b> Logical operators</a></li>
<li class="chapter" data-level="16.3" data-path="tidier.html"><a href="tidier.html#arrange-observations-rows-with-arrange"><i class="fa fa-check"></i><b>16.3</b> Arrange observations (rows) with <code>arrange()</code></a></li>
<li class="chapter" data-level="16.4" data-path="tidier.html"><a href="tidier.html#filter-observations-rows-with-filter"><i class="fa fa-check"></i><b>16.4</b> Filter observations (rows) with <code>filter()</code></a></li>
<li class="chapter" data-level="16.5" data-path="tidier.html"><a href="tidier.html#select-variables-columns-withselect"><i class="fa fa-check"></i><b>16.5</b> Select variables (columns) with<code>select()</code></a></li>
<li class="chapter" data-level="16.6" data-path="tidier.html"><a href="tidier.html#create-new-variables-columns-with-mutate"><i class="fa fa-check"></i><b>16.6</b> Create new variables (columns) with <code>mutate()</code></a></li>
<li class="chapter" data-level="16.7" data-path="tidier.html"><a href="tidier.html#summarise-variables-columns-with-summarise"><i class="fa fa-check"></i><b>16.7</b> Summarise variables (columns) with <code>summarise()</code></a></li>
<li class="chapter" data-level="16.8" data-path="tidier.html"><a href="tidier.html#session-info-10"><i class="fa fa-check"></i><b>16.8</b> Session info</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="tidiest.html"><a href="tidiest.html"><i class="fa fa-check"></i><b>17</b> Tidiest data</a>
<ul>
<li class="chapter" data-level="17.1" data-path="tidiest.html"><a href="tidiest.html#group-observations-rows-by-variables-columns-with-group_by"><i class="fa fa-check"></i><b>17.1</b> Group observations (rows) by variables (columns) with <code>group_by()</code></a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="tidiest.html"><a href="tidiest.html#grouping-by-multiple-variables"><i class="fa fa-check"></i><b>17.1.1</b> Grouping by multiple variables</a></li>
<li class="chapter" data-level="17.1.2" data-path="tidiest.html"><a href="tidiest.html#ungrouping"><i class="fa fa-check"></i><b>17.1.2</b> Ungrouping</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="tidiest.html"><a href="tidiest.html#chain-functions-with-the-pipe"><i class="fa fa-check"></i><b>17.2</b> Chain functions with the pipe (<code>%&gt;%</code>)</a></li>
<li class="chapter" data-level="17.3" data-path="tidiest.html"><a href="tidiest.html#group-all-the-functions"><i class="fa fa-check"></i><b>17.3</b> Group all the functions!</a></li>
<li class="chapter" data-level="17.4" data-path="tidiest.html"><a href="tidiest.html#going-deeper"><i class="fa fa-check"></i><b>17.4</b> Going deeper</a></li>
<li class="chapter" data-level="17.5" data-path="tidiest.html"><a href="tidiest.html#pipe-into-ggplot2"><i class="fa fa-check"></i><b>17.5</b> Pipe into <strong><code>ggplot2</code></strong></a></li>
<li class="chapter" data-level="17.6" data-path="tidiest.html"><a href="tidiest.html#additional-useful-functions"><i class="fa fa-check"></i><b>17.6</b> Additional useful functions</a>
<ul>
<li class="chapter" data-level="17.6.1" data-path="tidiest.html"><a href="tidiest.html#rename-variables-columns-with-rename"><i class="fa fa-check"></i><b>17.6.1</b> Rename variables (columns) with <code>rename()</code></a></li>
<li class="chapter" data-level="17.6.2" data-path="tidiest.html"><a href="tidiest.html#create-a-new-dataframe-for-a-newly-created-variable-column-with-transmute"><i class="fa fa-check"></i><b>17.6.2</b> Create a new dataframe for a newly created variable (column) with <code>transmute()</code></a></li>
<li class="chapter" data-level="17.6.3" data-path="tidiest.html"><a href="tidiest.html#count-observations-rows-with-n"><i class="fa fa-check"></i><b>17.6.3</b> Count observations (rows) with <code>n()</code></a></li>
<li class="chapter" data-level="17.6.4" data-path="tidiest.html"><a href="tidiest.html#select-observations-rows-by-number-with-slice"><i class="fa fa-check"></i><b>17.6.4</b> Select observations (rows) by number with <code>slice()</code></a></li>
<li class="chapter" data-level="17.6.5" data-path="tidiest.html"><a href="tidiest.html#summary-functions"><i class="fa fa-check"></i><b>17.6.5</b> Summary functions</a></li>
</ul></li>
<li class="chapter" data-level="17.7" data-path="tidiest.html"><a href="tidiest.html#the-new-age-redux"><i class="fa fa-check"></i><b>17.7</b> The new age <em>redux</em></a></li>
<li class="chapter" data-level="17.8" data-path="tidiest.html"><a href="tidiest.html#session-info-11"><i class="fa fa-check"></i><b>17.8</b> Session info</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="recap.html"><a href="recap.html"><i class="fa fa-check"></i><b>18</b> Recap</a>
<ul>
<li class="chapter" data-level="18.1" data-path="recap.html"><a href="recap.html#the-future"><i class="fa fa-check"></i><b>18.1</b> The future</a></li>
<li class="chapter" data-level="18.2" data-path="recap.html"><a href="recap.html#today"><i class="fa fa-check"></i><b>18.2</b> Today</a></li>
<li class="chapter" data-level="18.3" data-path="recap.html"><a href="recap.html#session-info-12"><i class="fa fa-check"></i><b>18.3</b> Session info</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Intro R Workshop: Data Manipulation, Analysis, and Visualisation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="workflow" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> An R workflow</h1>
<blockquote>
<p>“A dream doesn’t become reality through magic; it takes sweat, determination and hard work.”</p>
<p>— Colin Powell</p>
</blockquote>
<blockquote>
<p>“Choose a job you love, and you will never have to work a day in your life.”</p>
<p>— Confucius</p>
</blockquote>
<div id="r-scripts" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> R Scripts</h2>
<p>The first step for any project in R is to create a new script. We do this by clicking on the ‘New Document’ button (in the top left and selecting ‘R Script’). This creates an unnamed file in the <strong>Source Editor</strong> pane. Best to save it first of all so we do not lose what we do. ‘File’/‘Save As’/ and the Working Directory should come up. Type in <code>Day_1</code> as the file name and click ‘save.’ R will automatically add a <code>.R</code> extension.</p>
<p>It is recommended to start a script with some basic information for you to refer back to later. Start with a comment line (the line begins with a <code>#</code>) that tells you the name of the script, something about the script, who created it, and the date it was created. In the source editor enter to following lines and save the file again:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="workflow.html#cb36-1"></a><span class="co"># Day_1.R</span></span>
<span id="cb36-2"><a href="workflow.html#cb36-2"></a><span class="co"># Reads in some data about Laminaria collected along the Cape Peninsula</span></span>
<span id="cb36-3"><a href="workflow.html#cb36-3"></a><span class="co"># Do various data manipulations, analyses and graphs</span></span>
<span id="cb36-4"><a href="workflow.html#cb36-4"></a><span class="co"># &lt;your_name&gt;</span></span>
<span id="cb36-5"><a href="workflow.html#cb36-5"></a><span class="co"># &lt;curent_date&gt;</span></span></code></pre></div>
<p>Remember that anything appearing after the <code>#</code> is not executed by R as script and is a comment.</p>
<p>It is recommend that for each workshop session you start a new script (in the <strong>Source Editor</strong>), type in the code as we go along, and only execute the required lines. That way you will have a record of what you have done.</p>
<p>Below we will learn how to import the file <code>laminaria.csv</code> into R, assign it to a dataframe named <code>laminaria</code>, and spend a while looking it over. These data reflect results of a sampling campaign on one of the species of kelps (<em>Laminaria pallida</em>) in the Western Cape designed to find the morphometric properties of populations at different sites. We visited 13 different locations along the Cape Peninsula (<code>site</code>), and at each site, collected <em>ca.</em> 13 specimens of the largest kelps we could find. We then brought the kelps back to the shore and measured/calculated nine morphometric properties of the plants (<em>e.g.</em> the mass of the fronds (<code>blade_weight</code>), the frond length (<code>blade_length</code>), <em>etc.</em>).</p>
</div>
<div id="reading-data-into-r" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Reading data into R</h2>
<p>We will now see how easy it is to read data into R. R will read in many types of data, including spreadsheets, text files, binary files and files from other statistical packages and software.</p>
<blockquote>
<p><strong>Full stops</strong><br />
Unfortunately in South Africa we are taught from a young age to use commas (<code>,</code>) instead of full stops (<code>.</code>) for decimal places. This simply will not do when we are working with a computer. You must always use a full stop for a decimal place and never insert commas anywhere into any numbers.</p>
</blockquote>
<blockquote>
<p><strong>Commas</strong><br />
R generally thinks that commas mean the user is telling the computer to separate values. So if you think you are typing a big number like 2,300 you may actually end up with two numbers. Never use commas with numbers.</p>
</blockquote>
<div id="preparing-data-for-r" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Preparing data for R</h3>
<p>Importing data can actually take longer than the statistical analysis itself! In order to avoid as much frustration as possible it is important to remember that for R to be able to analyse your data they need to be in a consistent format, with each variable in a column and each sample in a row. The format within each variable (column) needs to be consistent and is commonly one of the following types: a continuous numeric variable (<em>e.g.</em>, fish length (m): <code>0.133</code>, <code>0.145</code>); a factor or categorical variable (<em>e.g.</em>, Month: <code>Jan</code>, <code>Feb</code> or <code>1</code>, <code>2</code>, <code>…</code>, <code>12</code>); a nominal variable (<em>e.g.</em>, algal colour: <code>red</code>, <code>green</code>, <code>brown</code>); or a logical variable (<em>i.e.</em>, <code>TRUE</code> or <code>FALSE</code>). You can also use other more specific formats such as dates and times, and more general text formats.</p>
<p>We will learn more about working with data in R — specifically, we will teach you about the <em>tidyverse</em> principles and the distinction between <em>long</em> and <em>wide</em> format data in more detail on Day 4. For most of our work in R we require our data to be in the long format, but Excel users (poor things!) are more familiar with data stored in the wide format. For now let’s bring some data into R and not worry too much about the data being tidy.</p>
</div>
<div id="converting-data" class="section level3" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Converting data</h3>
<p>Before we can read in the <em>Laminaria</em> dataset provided for the following exercises, we need to convert the Excel file supplied into a <code>.csv</code> file. Open ‘laminaria.xlsx’ in Excel, then select ‘Save As’ from the File menu. In the ‘Format’ drop-down menu, select the option called ‘Comma Separated Values’, then hit ‘Save’. You’ll get a warning that formatting will be removed and that only one sheet will be exported; simply ‘Continue’. Your working directory should now contain a file called <code>laminaria.csv</code>.</p>
</div>
<div id="importing-data" class="section level3" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Importing data</h3>
<p>The easiest way to import data into R is by changing your working directory to be the same as the file path where the file(s) are you want to load. A file path is effectively an address. In most operating systems, if you open the folder where your files are you may click on the navigation bar and it will show you the complete file path. Many people develop the nasty habit of squirling away their files within folders within folders within folders within folders… within folders within folders. Please don’t do that.</p>
<p>The concept of file paths is either one that you are familiar with, or you’ve never heard of before. There tends to be little middle ground. Happily, RStudio allows us to circumvent this issue. We do this by using the <code>Intro_R_Workshop.Rproj</code> that you may find in the files downloaded for this workshop. If you have not already switched to the <code>Intro_R_Workshop.Rproj</code> as outlined in Chapter 2, click on the project button in the top right corner your RStudio window. Then navigate to where you saved <code>Intro_R_Workshop.Rproj</code> and select it. Notice that your RStudio has changed a bit and all of the objects you may have previously created in your environment have been removed and any tabs in the source editor pane have been closed. That is fine for now, but it may mean you need to re-open the <code>Day_1.R</code> script you just created.</p>
<p>Once we have the working directory set, either by doing it manually with <code>setwd()</code> or by loading a project, R will now know where to look for the files we want to read. The function <code>read_csv()</code> is the most convenient way to read in raw data. There are several other ways to read in data, but for the purposes of this workshop we’ll stick to this one, for now. To find out what it does, we will go to its help entry in the usual way (<em>i.e.</em> <code>?read_csv</code>).</p>
<p>All R Help items are in the same format. A short <em>Description</em> (of what it does), <em>Usage</em>, <em>Arguments</em> (the different inputs it requires), <em>Details</em> (of what it does), <em>Value</em> (what it returns) and <em>Examples</em>. Arguments (the parameters that are passed to the function) are the lifeblood of any function, as this is how you provide information to R. You do not need to specify all arguments, as most have appropriate default values for your requirements, and others might not be needed for your particular case.</p>
<blockquote>
<p><strong>Data formats</strong><br />
R has pedantic requirements for naming variables. It is safest to not use spaces, special characters (<em>e.g.</em>, commas, semicolons, any of the shift characters above the numbers), or function names (<em>e.g.</em>, mean). One can use ‘camelCase’, such as <code>myFirstVariable</code>, or simply separate the ‘parts’ of the variable name using an underscore such as in <code>my_first_variable</code>. Always make sure to use meaningful names; eventually you will learn to find a balance between meaningfulness and something short that’s easy enough to retype repeatedly (although R’s ability to use tab completion helps with not having to type long names to often).</p>
</blockquote>
<blockquote>
<p><strong>Import</strong><br />
<code>read_csv()</code> is simply a ‘wrapper’ (<em>i.e.</em>, a command that modifies) a more basic command called <code>read_delim()</code>, which itself allows you to read in many types of files besides <code>.csv</code>. To find out more, type <code>?read_delim()</code>.</p>
</blockquote>
</div>
<div id="loading-a-file" class="section level3" number="4.2.4">
<h3><span class="header-section-number">4.2.4</span> Loading a file</h3>
<p>To load the <code>laminaria.csv</code> file we created, and assign it to an object name in R, we will use the <code>read_csv()</code> function from the <strong><code>tidyverse</code></strong> package, so let’s make sure it is activated.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="workflow.html#cb37-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
<p>Depending on the version of Excel you are using, or perhaps the settings within it, the ‘laminaria.csv’ file you created may be corrupted in different ways. Generally Excel likes to replace the <code>,</code> between columns in our .csv files with <code>;</code>. This may seem like a triviality but sadly it is not. Lucky for use, the <strong><code>tidyverse</code></strong> knows about this problem and they have made a plan. Please open your ‘laminaria.csv’ file and look at which character is being used to separate columns. If it is <code>,</code> then we will load the data with <code>read_csv()</code>. If the columns are separated with <code>;</code> we will use <code>read_csv2()</code>.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="workflow.html#cb38-1"></a><span class="co"># Run this if &#39;laminaria.csv` has columns separated by &#39;,&#39;</span></span>
<span id="cb38-2"><a href="workflow.html#cb38-2"></a>laminaria &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/laminaria.csv&quot;</span>)</span>
<span id="cb38-3"><a href="workflow.html#cb38-3"></a><span class="co"># Run this if &#39;laminaria.csv` has columns separated by &#39;;&#39;</span></span>
<span id="cb38-4"><a href="workflow.html#cb38-4"></a>laminaria &lt;-<span class="st"> </span><span class="kw">read_csv2</span>(<span class="st">&quot;data/laminaria.csv&quot;</span>)</span></code></pre></div>
<p>If one clicks on the newly created <code>laminaria</code> object in the <strong>Environment</strong> pane it will open a new panel that shows the information as a spreadsheet. To go back to your script click the appropriate tab in the <strong>Source Editor</strong> pane. With these data loaded we may now perform analyses on them.</p>
<p>At any point when working in R, you can see exactly what objects are in memory in several ways. First, you can look at the <strong>Environment</strong> tab in RStudio, then <strong>Workspace Browser</strong>. Alternatively you can type either of the following:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="workflow.html#cb39-1"></a><span class="kw">ls</span>()</span>
<span id="cb39-2"><a href="workflow.html#cb39-2"></a><span class="co"># or</span></span>
<span id="cb39-3"><a href="workflow.html#cb39-3"></a><span class="kw">objects</span>()</span></code></pre></div>
<p>You can delete an object from memory by specifying the <code>rm()</code> function with the name of the object:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="workflow.html#cb40-1"></a><span class="kw">rm</span>(laminaria)</span></code></pre></div>
<p>This will of course delete our variable, so we will import it in again using whichever of the following two lines of code matched our Excel situation.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="workflow.html#cb41-1"></a>laminaria &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/laminaria.csv&quot;</span>)</span>
<span id="cb41-2"><a href="workflow.html#cb41-2"></a><span class="co"># OR</span></span>
<span id="cb41-3"><a href="workflow.html#cb41-3"></a>laminaria &lt;-<span class="st"> </span><span class="kw">read_csv2</span>(<span class="st">&quot;data/laminaria.csv&quot;</span>)</span></code></pre></div>
<blockquote>
<p><strong>Managing variables</strong><br />
It is good practice to remove variables from memory that you are not using, especially if they are large.</p>
</blockquote>
</div>
</div>
<div id="working-with-data" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Working with data</h2>
<div id="examine-your-data" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Examine your data</h3>
<p>Once the data are in R, you need to check there are no glaring errors. It is useful to call up the first few lines of the dataframe using the function <code>head()</code>. Try it yourself by typing:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="workflow.html#cb42-1"></a><span class="kw">head</span>(laminaria)</span></code></pre></div>
<p>This lists the first six lines of each of the variables in the dataframe as a table. You can similarly retrieve the last six lines of a dataframe by an identical call to the function <code>tail()</code>. Of course, this works better when you have fewer than 10 or so variables (columns); for larger data sets, things can get a little messy. If you want more or fewer rows in your head or tail, tell R how many rows it is you want by adding this information to your function call. Try typing:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="workflow.html#cb43-1"></a><span class="kw">head</span>(laminaria, <span class="dt">n =</span> <span class="dv">3</span>)</span>
<span id="cb43-2"><a href="workflow.html#cb43-2"></a><span class="kw">tail</span>(laminaria, <span class="dt">n =</span> <span class="dv">2</span>)</span></code></pre></div>
<p>You can also check the structure of your data by using the <code>glimpse()</code> function:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="workflow.html#cb44-1"></a><span class="kw">glimpse</span>(laminaria)</span></code></pre></div>
<p>This very handy function lists the variables in your dataframe by name, tells you what sorts of data are contained in each variable (<em>e.g.</em>, continuous number, discrete factor) and provides an indication of the actual contents of each.</p>
<p>If we wanted only the names of the variables (columns) in the dataframe, we could use:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="workflow.html#cb45-1"></a><span class="kw">names</span>(laminaria)</span></code></pre></div>
</div>
<div id="tidyverse-sneak-peek" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Tidyverse sneak peek</h3>
<p>Before we begin to manipulate our data further we need to briefly introduce ourselves to the <strong><code>tidyverse</code></strong>. And no introduction can be complete within learning about the <em>pipe</em> command, <code>%&gt;%</code>. We may type this by pushing the following keys together: <strong>ctrl-shift-m</strong>. The pipe (<code>%&gt;%</code>) allows us to perform calculations sequentially, which helps us to avoid making errors.</p>
<p>The pipe works best in tandem with the following five common functions:</p>
<ul>
<li>Arrange observations (rows) with <code>arrange()</code><br />
</li>
<li>Filter observations (rows) with <code>filter()</code><br />
</li>
<li>Select variables (columns) with<code>select()</code><br />
</li>
<li>Create new variables (columns) with <code>mutate()</code><br />
</li>
<li>Summarise variables (columns) with <code>summarise()</code></li>
</ul>
<p>We will cover these functions in more detail on Day 4. For now we will ease ourselves into the code with some simple examples.</p>
</div>
<div id="subsetting" class="section level3" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Subsetting</h3>
<p>Now let’s have a look at specific parts of the data. You will likely need to do this in almost every script you write. If we want to refer to a variable, we specify the dataframe then the column name within the <code>select()</code> function. In your script type:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="workflow.html#cb46-1"></a>laminaria <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Tell R which dataframe we are using</span></span>
<span id="cb46-2"><a href="workflow.html#cb46-2"></a><span class="st">  </span><span class="kw">select</span>(site, total_length) <span class="co"># Select only specific columns</span></span></code></pre></div>
<p>If we want to only select values from specific columns we insert one more line of code.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="workflow.html#cb47-1"></a>laminaria <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb47-2"><a href="workflow.html#cb47-2"></a><span class="st">  </span><span class="kw">select</span>(site, total_length) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Select specific columns first</span></span>
<span id="cb47-3"><a href="workflow.html#cb47-3"></a><span class="st">  </span><span class="kw">slice</span>(<span class="dv">56</span><span class="op">:</span><span class="dv">78</span>)</span>
<span id="cb47-4"><a href="workflow.html#cb47-4"></a><span class="co"># what does the &#39;56:78&#39; do? Change some numbers and run the code again. What happens?</span></span></code></pre></div>
<p>If we wanted to select only the rows of data belonging to the Kommetjie site, we could type:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="workflow.html#cb48-1"></a>laminaria <span class="op">%&gt;%</span></span>
<span id="cb48-2"><a href="workflow.html#cb48-2"></a><span class="st">  </span><span class="kw">filter</span>(site <span class="op">==</span><span class="st"> &quot;Kommetjie&quot;</span>)</span></code></pre></div>
<p>The function <code>filter()</code> has two arguments: the first is a dataframe (we specify <code>laminaria</code> in the previous line and the pipe supplies this for us) and the second is an expression that relates to which rows of a particular variable we want to include. Here we include all rows for Kommetjie and we find that in the variable site. It returns a subset that is actually a dataframe itself; it is in the same form as the original dataframe. We could assign that subset of the full dataframe to a new dataframe if we wanted to.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="workflow.html#cb49-1"></a>lam_kom &lt;-<span class="st"> </span>laminaria <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb49-2"><a href="workflow.html#cb49-2"></a><span class="st">  </span><span class="kw">filter</span>(site <span class="op">==</span><span class="st"> &quot;Kommetjie&quot;</span>)</span></code></pre></div>
<blockquote>
<p><strong>DIY: Subsetting</strong><br />
In the script you have started, create a new named dataframe containing only kelps from two of the sites. Check that the new dataframe has the correct values in it. What purpose can the naming of a newly-created dataframe serve?</p>
</blockquote>
</div>
<div id="basic-stats" class="section level3" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Basic stats</h3>
<p>Straight out of the box it is possible in R to perform a broad range of statistical calculations on a dataframe. If we wanted to know how many samples we have at Kommetjie, we simply type the following:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="workflow.html#cb50-1"></a>laminaria <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Tell R which dataset to use</span></span>
<span id="cb50-2"><a href="workflow.html#cb50-2"></a><span class="st">  </span><span class="kw">filter</span>(site <span class="op">==</span><span class="st"> &quot;Kommetjie&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Filter out only records from Kommetjie</span></span>
<span id="cb50-3"><a href="workflow.html#cb50-3"></a><span class="st">  </span><span class="kw">nrow</span>() <span class="co"># Count the number of remaining rows</span></span></code></pre></div>
<p>Or, if we want to select only the row with the greatest total length:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="workflow.html#cb51-1"></a>laminaria <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Tell R which dataset to use</span></span>
<span id="cb51-2"><a href="workflow.html#cb51-2"></a><span class="st">  </span><span class="kw">filter</span>(total_length <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(total_length)) <span class="co"># Select row with max total length</span></span></code></pre></div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="github.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercise-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="docs/gitbook-2.6.7/js/app.min.js"></script>
<script src="docs/gitbook-2.6.7/js/lunr.js"></script>
<script src="docs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="docs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="docs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="docs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="docs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="docs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="docs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Intro_R_Workshop.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true,
"sharing": {
"facebook": true,
"twitter": true,
"google": true,
"download": "Intro_R_Workshop.pdf"
}
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
